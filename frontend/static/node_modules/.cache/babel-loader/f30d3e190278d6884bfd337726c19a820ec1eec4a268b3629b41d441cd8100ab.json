{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jake/Documents/CCS/hw/drf-react-newspaper-app/frontend/static/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/jake/Documents/CCS/hw/drf-react-newspaper-app/frontend/static/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/jake/Documents/CCS/hw/drf-react-newspaper-app/frontend/static/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./test.css\";import{useState,useEffect}from\"react\";import ArticleLink from\"../Articles/ArticleLink\";import Cookies from\"js-cookie\";import{nanoid}from\"nanoid\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var INITIAL_ARTICLE={title:\"Article Title\",text:\"Article text\"};var INITIAL_ARTICLES=[\"article 1\",\"article 2\",\"Funny comics\",\"dsytopia\"];function Test(props){var _useState=useState(INITIAL_ARTICLE),_useState2=_slicedToArray(_useState,2),currArticle=_useState2[0],setCurrArticle=_useState2[1];var _useState3=useState(INITIAL_ARTICLES),_useState4=_slicedToArray(_useState3,2),articles=_useState4[0],setArticles=_useState4[1];var getAll=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var options,response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:options={method:\"GET\",headers:{\"Content-Type\":\"application/json\",\"X-CSRFToken\":Cookies.get(\"csrftoken\")}};_context.next=3;return fetch(\"api_v1/posts/\",options);case 3:response=_context.sent;if(response.ok){_context.next=6;break;}throw new Error(\"Couldn't fetch articles\");case 6:_context.next=8;return response.json();case 8:data=_context.sent;console.log(\"Get all data: \",data);setArticles(data);case 11:case\"end\":return _context.stop();}},_callee);}));return function getAll(_x){return _ref.apply(this,arguments);};}();var getAdmin=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){var options,response,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:options={method:\"GET\",headers:{\"Content-Type\":\"application/json\",\"X-CSRFToken\":Cookies.get(\"csrftoken\")}};_context2.next=3;return fetch(\"api_v1/posts/submitted/\",options);case 3:response=_context2.sent;if(response.ok){_context2.next=6;break;}throw new Error(\"Couldn't fetch articles\");case 6:_context2.next=8;return response.json();case 8:data=_context2.sent;console.log(\"Get admin data: \",data);setArticles(data);case 11:case\"end\":return _context2.stop();}},_callee2);}));return function getAdmin(_x2){return _ref2.apply(this,arguments);};}();var getDraft=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(e){var options,response,data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:options={method:\"GET\",headers:{\"Content-Type\":\"application/json\",\"X-CSRFToken\":Cookies.get(\"csrftoken\")}};_context3.next=3;return fetch(\"api_v1/posts/drafts\",options);case 3:response=_context3.sent;if(response.ok){_context3.next=6;break;}throw new Error(\"Couldn't fetch articles\");case 6:_context3.next=8;return response.json();case 8:data=_context3.sent;console.log(\"Get draft data: \",data);setArticles(data);case 11:case\"end\":return _context3.stop();}},_callee3);}));return function getDraft(_x3){return _ref3.apply(this,arguments);};}();var articlesHTML=articles.map(function(article){return/*#__PURE__*/_jsx(ArticleLink,{article:article,setNewArticle:props.setNewArticle},nanoid());});return/*#__PURE__*/_jsxs(\"div\",{id:\"test-body\",children:[/*#__PURE__*/_jsx(\"h1\",{id:\"test-title\",children:\"I am the test\"}),/*#__PURE__*/_jsxs(\"nav\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:getAll,children:\"All\"}),/*#__PURE__*/_jsx(\"button\",{onClick:getAdmin,children:\"Admin\"}),/*#__PURE__*/_jsx(\"button\",{onClick:getDraft,children:\"Draft\"})]}),/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsx(\"ul\",{className:\"link-list\",children:articlesHTML}),\";\"]})]});}export default Test;","map":{"version":3,"names":["useState","useEffect","ArticleLink","Cookies","nanoid","jsx","_jsx","jsxs","_jsxs","INITIAL_ARTICLE","title","text","INITIAL_ARTICLES","Test","props","_useState","_useState2","_slicedToArray","currArticle","setCurrArticle","_useState3","_useState4","articles","setArticles","getAll","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","options","response","data","wrap","_callee$","_context","prev","next","method","headers","get","fetch","sent","ok","Error","json","console","log","stop","_x","apply","arguments","getAdmin","_ref2","_callee2","_callee2$","_context2","_x2","getDraft","_ref3","_callee3","_callee3$","_context3","_x3","articlesHTML","map","article","setNewArticle","id","children","onClick","className"],"sources":["/Users/jake/Documents/CCS/hw/drf-react-newspaper-app/frontend/static/src/Components/Test/Test.js"],"sourcesContent":["import \"./test.css\"\nimport { useState, useEffect } from \"react\";\nimport ArticleLink from \"../Articles/ArticleLink\";\nimport Cookies from \"js-cookie\";\nimport { nanoid } from \"nanoid\";\n\nconst INITIAL_ARTICLE = {\n\ttitle: \"Article Title\",\n\ttext: \"Article text\",\n};\nconst INITIAL_ARTICLES = [\"article 1\", \"article 2\", \"Funny comics\", \"dsytopia\"];\n\nfunction Test(props) {\n    const [currArticle, setCurrArticle] = useState(INITIAL_ARTICLE);\n    const [articles, setArticles] = useState(INITIAL_ARTICLES);\n\n    const getAll = async (e) => {\n        const options = {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"X-CSRFToken\": Cookies.get(\"csrftoken\"),\n            },\n        };\n        const response = await fetch(\"api_v1/posts/\", options);\n        if (!response.ok) {\n            throw new Error(\"Couldn't fetch articles\")\n        }\n        const data = await response.json();\n        console.log(\"Get all data: \", data)\n        setArticles(data);\n    }\n\n    const getAdmin = async (e) => {\n        const options = {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"X-CSRFToken\": Cookies.get(\"csrftoken\"),\n            },\n        };\n        const response = await fetch(\"api_v1/posts/submitted/\", options);\n        if (!response.ok) {\n            throw new Error(\"Couldn't fetch articles\")\n        }\n        const data = await response.json();\n        console.log(\"Get admin data: \", data)\n        setArticles(data);\n    }\n\n    const getDraft = async (e) => {\n        const options = {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"X-CSRFToken\": Cookies.get(\"csrftoken\"),\n            },\n        };\n        const response = await fetch(\"api_v1/posts/drafts\", options);\n        if (!response.ok) {\n            throw new Error(\"Couldn't fetch articles\")\n        }\n        const data = await response.json();\n        console.log(\"Get draft data: \", data)\n        setArticles(data);\n    }\n\n    const articlesHTML = articles.map((article) => (\n\t\t<ArticleLink\n\t\t\tkey={nanoid()}\n\t\t\tarticle={article}\n\t\t\tsetNewArticle={props.setNewArticle}\n\t\t/>\n\t));\n\n\n    return (\n        <div id=\"test-body\">\n            <h1 id=\"test-title\">I am the test</h1>\n            <nav>\n                <button onClick={getAll} >All</button>\n                <button onClick={getAdmin} >Admin</button>\n                <button onClick={getDraft} >Draft</button>\n            </nav>\n            <main>\n                <ul className=\"link-list\">{articlesHTML}</ul>;\n\t\t\t</main>\n        </div>\n    )\n}\n\nexport default Test"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}