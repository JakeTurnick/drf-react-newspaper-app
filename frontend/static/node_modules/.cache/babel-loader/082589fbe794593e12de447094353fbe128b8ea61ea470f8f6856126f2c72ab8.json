{"ast":null,"code":"var _jsxFileName = \"/Users/jake/Documents/CCS/hw/drf-react-newspaper-app/frontend/static/src/Components/Test/Test.js\",\n  _s = $RefreshSig$();\nimport \"./test.css\";\nimport { useState, useEffect } from \"react\";\nimport ArticleLink from \"../Articles/ArticleLink\";\nimport Cookies from \"js-cookie\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst INITIAL_ARTICLE = {\n  title: \"Article Title\",\n  text: \"Article text\"\n};\nconst INITIAL_ARTICLES = [\"article 1\", \"article 2\", \"Funny comics\", \"dsytopia\"];\nfunction Test(props) {\n  _s();\n  const [currArticle, setCurrArticle] = useState(INITIAL_ARTICLE);\n  const [articles, setArticles] = useState(INITIAL_ARTICLES);\n  const getAll = async e => {\n    const options = {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"X-CSRFToken\": Cookies.get(\"csrftoken\")\n      }\n    };\n    const response = await fetch(\"api_v1/posts/\", options);\n    if (!response.ok) {\n      throw new Error(\"Couldn't fetch articles\");\n    }\n    const data = await response.json();\n    console.log(\"Get all data: \", data);\n    setArticles(data);\n  };\n  const getAdmin = async e => {\n    const options = {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"X-CSRFToken\": Cookies.get(\"csrftoken\")\n      }\n    };\n    const response = await fetch(\"api_v1/posts/submitted/\", options);\n    if (!response.ok) {\n      throw new Error(\"Couldn't fetch articles\");\n    }\n    const data = await response.json();\n    console.log(\"Get admin data: \", data);\n    setArticles(data);\n  };\n  const getDraft = async e => {\n    const options = {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"X-CSRFToken\": Cookies.get(\"csrftoken\")\n      }\n    };\n    const response = await fetch(\"api_v1/posts/drafts\", options);\n    if (!response.ok) {\n      throw new Error(\"Couldn't fetch articles\");\n    }\n    const data = await response.json();\n    console.log(\"Get draft data: \", data);\n    setArticles(data);\n  };\n  const articlesHTML = articles.map(article => /*#__PURE__*/_jsxDEV(ArticleLink, {\n    article: article,\n    setNewArticle: props.setNewArticle\n  }, nanoid(), false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 3\n  }, this));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"test-body\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      id: \"test-title\",\n      children: \"I am the test\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: getAll,\n        children: \"All\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: getAdmin,\n        children: \"Admin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: getDraft,\n        children: \"Draft\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"link-list\",\n        children: articlesHTML\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this), \";\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 9\n  }, this);\n}\n_s(Test, \"EzQHUz4zFN3uZhc8ee9SmHkGNMY=\");\n_c = Test;\nexport default Test;\nvar _c;\n$RefreshReg$(_c, \"Test\");","map":{"version":3,"names":["useState","useEffect","ArticleLink","Cookies","jsxDEV","_jsxDEV","INITIAL_ARTICLE","title","text","INITIAL_ARTICLES","Test","props","_s","currArticle","setCurrArticle","articles","setArticles","getAll","e","options","method","headers","get","response","fetch","ok","Error","data","json","console","log","getAdmin","getDraft","articlesHTML","map","article","setNewArticle","nanoid","fileName","_jsxFileName","lineNumber","columnNumber","id","children","onClick","className","_c","$RefreshReg$"],"sources":["/Users/jake/Documents/CCS/hw/drf-react-newspaper-app/frontend/static/src/Components/Test/Test.js"],"sourcesContent":["import \"./test.css\"\nimport { useState, useEffect } from \"react\";\nimport ArticleLink from \"../Articles/ArticleLink\";\nimport Cookies from \"js-cookie\";\n\nconst INITIAL_ARTICLE = {\n\ttitle: \"Article Title\",\n\ttext: \"Article text\",\n};\nconst INITIAL_ARTICLES = [\"article 1\", \"article 2\", \"Funny comics\", \"dsytopia\"];\n\nfunction Test(props) {\n    const [currArticle, setCurrArticle] = useState(INITIAL_ARTICLE);\n    const [articles, setArticles] = useState(INITIAL_ARTICLES);\n\n    const getAll = async (e) => {\n        const options = {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"X-CSRFToken\": Cookies.get(\"csrftoken\"),\n            },\n        };\n        const response = await fetch(\"api_v1/posts/\", options);\n        if (!response.ok) {\n            throw new Error(\"Couldn't fetch articles\")\n        }\n        const data = await response.json();\n        console.log(\"Get all data: \", data)\n        setArticles(data);\n    }\n\n    const getAdmin = async (e) => {\n        const options = {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"X-CSRFToken\": Cookies.get(\"csrftoken\"),\n            },\n        };\n        const response = await fetch(\"api_v1/posts/submitted/\", options);\n        if (!response.ok) {\n            throw new Error(\"Couldn't fetch articles\")\n        }\n        const data = await response.json();\n        console.log(\"Get admin data: \", data)\n        setArticles(data);\n    }\n\n    const getDraft = async (e) => {\n        const options = {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"X-CSRFToken\": Cookies.get(\"csrftoken\"),\n            },\n        };\n        const response = await fetch(\"api_v1/posts/drafts\", options);\n        if (!response.ok) {\n            throw new Error(\"Couldn't fetch articles\")\n        }\n        const data = await response.json();\n        console.log(\"Get draft data: \", data)\n        setArticles(data);\n    }\n\n    const articlesHTML = articles.map((article) => (\n\t\t<ArticleLink\n\t\t\tkey={nanoid()}\n\t\t\tarticle={article}\n\t\t\tsetNewArticle={props.setNewArticle}\n\t\t/>\n\t));\n\n\n    return (\n        <div id=\"test-body\">\n            <h1 id=\"test-title\">I am the test</h1>\n            <nav>\n                <button onClick={getAll} >All</button>\n                <button onClick={getAdmin} >Admin</button>\n                <button onClick={getDraft} >Draft</button>\n            </nav>\n            <main>\n                <ul className=\"link-list\">{articlesHTML}</ul>;\n\t\t\t</main>\n        </div>\n    )\n}\n\nexport default Test"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}