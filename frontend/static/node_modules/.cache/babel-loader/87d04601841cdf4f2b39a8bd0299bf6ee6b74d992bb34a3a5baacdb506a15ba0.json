{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jake/Documents/CCS/hw/drf-react-newspaper-app/frontend/static/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/jake/Documents/CCS/hw/drf-react-newspaper-app/frontend/static/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import\"./header.css\";import{Navigate,NavLink,useNavigate,useOutletContext}from\"react-router-dom\";import Cookies from\"js-cookie\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Header(props){var signOut=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var options,response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:options={method:\"POST\",headers:{\"Content-type\":\"application/json\",\"X-CSRFToken\":Cookies.get(\"csrftoken\")},body:\"\"};_context.next=3;return fetch(\"dj-rest-auth/logout/\",options);case 3:response=_context.sent;if(response.ok){_context.next=6;break;}throw new Error(\"Error when signing out\");case 6:_context.next=8;return response.json();case 8:data=_context.sent;console.log(\"sign out data: \",data);props.setAuth(false);case 11:case\"end\":return _context.stop();}},_callee);}));return function signOut(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"header\",{children:[/*#__PURE__*/_jsxs(\"nav\",{id:\"header-nav\",children:[/*#__PURE__*/_jsx(NavLink,{className:\"header-link\",to:\"/home\",children:\"Home\"}),/*#__PURE__*/_jsx(NavLink,{className:\"header-link\",to:\"/login\",children:\"Login\"}),/*#__PURE__*/_jsx(NavLink,{className:\"header-link\",to:\"/signup\",children:\"Sign up\"})]}),props.isAuth?/*#__PURE__*/_jsxs(\"section\",{className:\"user-area\",children:[/*#__PURE__*/_jsx(NavLink,{className:\"header-link\",to:\"/home\",children:\"Welcome User\"}),/*#__PURE__*/_jsx(\"button\",{id:\"sign-out\",onClick:signOut,children:\"Sign out?\"})]}):/*#__PURE__*/_jsx(\"section\",{className:\"user-area\",children:/*#__PURE__*/_jsx(NavLink,{className:\"header-link\",to:\"/login\",children:\"Have an account?\"})})]});}export default Header;","map":{"version":3,"names":["Navigate","NavLink","useNavigate","useOutletContext","Cookies","jsx","_jsx","jsxs","_jsxs","Header","props","signOut","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","options","response","data","wrap","_callee$","_context","prev","next","method","headers","get","body","fetch","sent","ok","Error","json","console","log","setAuth","stop","_x","apply","arguments","children","id","className","to","isAuth","onClick"],"sources":["/Users/jake/Documents/CCS/hw/drf-react-newspaper-app/frontend/static/src/Components/App/Header.js"],"sourcesContent":["import \"./header.css\";\nimport {\n\tNavigate,\n\tNavLink,\n\tuseNavigate,\n\tuseOutletContext,\n} from \"react-router-dom\";\nimport Cookies from \"js-cookie\";\n\nfunction Header(props) {\n\tconst signOut = async (e) => {\n\t\tconst options = {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-type\": \"application/json\",\n\t\t\t\t\"X-CSRFToken\": Cookies.get(\"csrftoken\"),\n\t\t\t},\n\t\t\tbody: \"\",\n\t\t};\n\t\tconst response = await fetch(\"dj-rest-auth/logout/\", options);\n\t\tif (!response.ok) {\n\t\t\tthrow new Error(\"Error when signing out\");\n\t\t}\n\t\tconst data = await response.json();\n\t\tconsole.log(\"sign out data: \", data);\n\t\tprops.setAuth(false);\n\t};\n\n\treturn (\n\t\t<header>\n\t\t\t<nav id=\"header-nav\">\n\t\t\t\t<NavLink className=\"header-link\" to=\"/home\">\n\t\t\t\t\tHome\n\t\t\t\t</NavLink>\n\t\t\t\t<NavLink className=\"header-link\" to=\"/login\">\n\t\t\t\t\tLogin\n\t\t\t\t</NavLink>\n\t\t\t\t<NavLink className=\"header-link\" to=\"/signup\">\n\t\t\t\t\tSign up\n\t\t\t\t</NavLink>\n\t\t\t</nav>\n\t\t\t{props.isAuth ? (\n\t\t\t\t<section className=\"user-area\">\n\t\t\t\t\t<NavLink className=\"header-link\" to=\"/home\">\n\t\t\t\t\t\tWelcome User\n\t\t\t\t\t</NavLink>\n\t\t\t\t\t<button id=\"sign-out\" onClick={signOut}>\n\t\t\t\t\t\tSign out?\n\t\t\t\t\t</button>\n\t\t\t\t</section>\n\t\t\t) : (\n\t\t\t\t<section className=\"user-area\">\n\t\t\t\t\t<NavLink className=\"header-link\" to=\"/login\">\n\t\t\t\t\t\tHave an account?\n\t\t\t\t\t</NavLink>\n\t\t\t\t</section>\n\t\t\t)}\n\t\t</header>\n\t);\n}\n\nexport default Header;\n"],"mappings":"oUAAA,MAAO,cAAc,CACrB,OACCA,QAAQ,CACRC,OAAO,CACPC,WAAW,CACXC,gBAAgB,KACV,kBAAkB,CACzB,MAAO,CAAAC,OAAO,KAAM,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEhC,QAAS,CAAAC,MAAMA,CAACC,KAAK,CAAE,CACtB,GAAM,CAAAC,OAAO,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,CAAC,MAAAC,OAAA,CAAAC,QAAA,CAAAC,IAAA,QAAAN,mBAAA,GAAAO,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACjBP,OAAO,CAAG,CACfQ,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACR,cAAc,CAAE,kBAAkB,CAClC,aAAa,CAAEvB,OAAO,CAACwB,GAAG,CAAC,WAAW,CACvC,CAAC,CACDC,IAAI,CAAE,EACP,CAAC,CAAAN,QAAA,CAAAE,IAAA,SACsB,CAAAK,KAAK,CAAC,sBAAsB,CAAEZ,OAAO,CAAC,QAAvDC,QAAQ,CAAAI,QAAA,CAAAQ,IAAA,IACTZ,QAAQ,CAACa,EAAE,EAAAT,QAAA,CAAAE,IAAA,eACT,IAAI,CAAAQ,KAAK,CAAC,wBAAwB,CAAC,QAAAV,QAAA,CAAAE,IAAA,SAEvB,CAAAN,QAAQ,CAACe,IAAI,EAAE,QAA5Bd,IAAI,CAAAG,QAAA,CAAAQ,IAAA,CACVI,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAEhB,IAAI,CAAC,CACpCV,KAAK,CAAC2B,OAAO,CAAC,KAAK,CAAC,CAAC,yBAAAd,QAAA,CAAAe,IAAA,MAAAtB,OAAA,GACrB,kBAhBK,CAAAL,OAAOA,CAAA4B,EAAA,SAAA3B,IAAA,CAAA4B,KAAA,MAAAC,SAAA,OAgBZ,CAED,mBACCjC,KAAA,WAAAkC,QAAA,eACClC,KAAA,QAAKmC,EAAE,CAAC,YAAY,CAAAD,QAAA,eACnBpC,IAAA,CAACL,OAAO,EAAC2C,SAAS,CAAC,aAAa,CAACC,EAAE,CAAC,OAAO,CAAAH,QAAA,CAAC,MAE5C,EAAU,cACVpC,IAAA,CAACL,OAAO,EAAC2C,SAAS,CAAC,aAAa,CAACC,EAAE,CAAC,QAAQ,CAAAH,QAAA,CAAC,OAE7C,EAAU,cACVpC,IAAA,CAACL,OAAO,EAAC2C,SAAS,CAAC,aAAa,CAACC,EAAE,CAAC,SAAS,CAAAH,QAAA,CAAC,SAE9C,EAAU,GACL,CACLhC,KAAK,CAACoC,MAAM,cACZtC,KAAA,YAASoC,SAAS,CAAC,WAAW,CAAAF,QAAA,eAC7BpC,IAAA,CAACL,OAAO,EAAC2C,SAAS,CAAC,aAAa,CAACC,EAAE,CAAC,OAAO,CAAAH,QAAA,CAAC,cAE5C,EAAU,cACVpC,IAAA,WAAQqC,EAAE,CAAC,UAAU,CAACI,OAAO,CAAEpC,OAAQ,CAAA+B,QAAA,CAAC,WAExC,EAAS,GACA,cAEVpC,IAAA,YAASsC,SAAS,CAAC,WAAW,CAAAF,QAAA,cAC7BpC,IAAA,CAACL,OAAO,EAAC2C,SAAS,CAAC,aAAa,CAACC,EAAE,CAAC,QAAQ,CAAAH,QAAA,CAAC,kBAE7C,EAAU,EAEX,GACO,CAEX,CAEA,cAAe,CAAAjC,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}