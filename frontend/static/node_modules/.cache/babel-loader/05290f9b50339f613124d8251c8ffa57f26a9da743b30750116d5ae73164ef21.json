{"ast":null,"code":"var _jsxFileName = \"/Users/jake/Documents/CCS/hw/drf-react-newspaper-app/frontend/static/src/Components/Auth/Login.js\",\n  _s = $RefreshSig$();\nimport \"./AuthForm.css\";\nimport { useState } from \"react\";\nimport { Navigate, useOutletContext } from \"react-router-dom\";\nimport Cookies from \"js-cookie\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction LoginForm(props) {\n  _s();\n  const [isAuth, setAuth, setCurrUser] = useOutletContext();\n  const toggleAuth = () => {\n    setAuth(!isAuth);\n  };\n  const [user, setUser] = useState({\n    username: \"\",\n    password: \"\"\n  });\n  const handleError = err => {\n    console.warm(err);\n  };\n  const handleInput = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setUser(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    // testing functionality\n    console.log(\"User info:\", user);\n\n    // uncomment for build\n    const options = {\n      method: \"POST\",\n      headers: {\n        \"Content-type\": \"application/json\",\n        \"X-CSRFToken\": Cookies.get(\"csrftoken\")\n      },\n      body: JSON.stringify(user)\n    };\n    const response = await fetch(\"dj-rest-auth/login/\", options);\n    if (!response.ok) {\n      throw new Error(\"Could not login / authenticate user\");\n    }\n    const data = await response.json();\n    console.log(\"login data: \", data);\n    Cookies.set(\"Authorization\", `Token ${data.key}`);\n    setAuth(true);\n    setCurrUser(user.username.toUpperCase());\n    Navigate(\"/\");\n  };\n  const getBg = async e => {\n    const options = {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Accept-Version\": \"v1\"\n      },\n      body: \"some text\"\n    };\n    const response = await fetch(\"https://api.unsplash.com/\", options);\n    const data = await response.json();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"form-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: toggleAuth,\n      children: \"Toggle auth\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      id: \"auth-form\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"username\",\n          children: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          id: \"username\",\n          name: \"username\",\n          value: user.username,\n          onChange: handleInput,\n          placeholder: \"xX_C00L-n4m3_Xx\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"exampleInputEmail1\",\n          children: \"Email address\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          className: \"form-control\",\n          id: \"email\",\n          name: \"email\",\n          \"aria-describedby\": \"emailHelp\",\n          placeholder: \"me@awesome.com\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n          id: \"email\",\n          className: \"form-text text-muted\",\n          children: \"We'll never share your email with anyone else.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"password1\",\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          className: \"form-control\",\n          id: \"password\",\n          name: \"password\",\n          value: user.password,\n          onChange: handleInput,\n          placeholder: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 3\n  }, this);\n}\n_s(LoginForm, \"yJOSJRdP1ZKZlT6gWiOp+63Xz/M=\", false, function () {\n  return [useOutletContext];\n});\n_c = LoginForm;\nexport default LoginForm;\nvar _c;\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"names":["useState","Navigate","useOutletContext","Cookies","jsxDEV","_jsxDEV","LoginForm","props","_s","isAuth","setAuth","setCurrUser","toggleAuth","user","setUser","username","password","handleError","err","console","warm","handleInput","e","name","value","target","prev","handleSubmit","preventDefault","log","options","method","headers","get","body","JSON","stringify","response","fetch","ok","Error","data","json","set","key","toUpperCase","getBg","id","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","className","htmlFor","type","onChange","placeholder","_c","$RefreshReg$"],"sources":["/Users/jake/Documents/CCS/hw/drf-react-newspaper-app/frontend/static/src/Components/Auth/Login.js"],"sourcesContent":["import \"./AuthForm.css\";\nimport { useState } from \"react\";\nimport { Navigate, useOutletContext } from \"react-router-dom\";\nimport Cookies from \"js-cookie\";\n\nfunction LoginForm(props) {\n\tconst [isAuth, setAuth, setCurrUser] = useOutletContext();\n\n\tconst toggleAuth = () => {\n\t\tsetAuth(!isAuth);\n\t};\n\n\tconst [user, setUser] = useState({\n\t\tusername: \"\",\n\t\tpassword: \"\",\n\t});\n\n\tconst handleError = (err) => {\n\t\tconsole.warm(err);\n\t};\n\n\tconst handleInput = (e) => {\n\t\tconst { name, value } = e.target;\n\t\tsetUser((prev) => ({\n\t\t\t...prev,\n\t\t\t[name]: value,\n\t\t}));\n\t};\n\n\tconst handleSubmit = async (e) => {\n\t\te.preventDefault();\n\t\t// testing functionality\n\t\tconsole.log(\"User info:\", user);\n\n\t\t// uncomment for build\n\t\tconst options = {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-type\": \"application/json\",\n\t\t\t\t\"X-CSRFToken\": Cookies.get(\"csrftoken\"),\n\t\t\t},\n\t\t\tbody: JSON.stringify(user),\n\t\t};\n\t\tconst response = await fetch(\"dj-rest-auth/login/\", options);\n\t\tif (!response.ok) {\n\t\t\tthrow new Error(\"Could not login / authenticate user\");\n\t\t}\n\t\tconst data = await response.json();\n\t\tconsole.log(\"login data: \", data);\n\t\tCookies.set(\"Authorization\", `Token ${data.key}`);\n\t\tsetAuth(true);\n\t\tsetCurrUser(user.username.toUpperCase());\n\t\tNavigate(\"/\");\n\t};\n\n\tconst getBg = async (e) => {\n\t\tconst options = {\n\t\t\tmethod: \"GET\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\"Accept-Version\": \"v1\",\n\t\t\t},\n\t\t\tbody: \"some text\",\n\t\t};\n\t\tconst response = await fetch(\"https://api.unsplash.com/\", options);\n\t\tconst data = await response.json();\n\t};\n\n\treturn (\n\t\t<div id=\"form-container\">\n\t\t\t<button onClick={toggleAuth}>Toggle auth</button>\n\t\t\t<form id=\"auth-form\" onSubmit={handleSubmit}>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label htmlFor=\"username\">Username</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\tid=\"username\"\n\t\t\t\t\t\tname=\"username\"\n\t\t\t\t\t\tvalue={user.username}\n\t\t\t\t\t\tonChange={handleInput}\n\t\t\t\t\t\tplaceholder=\"xX_C00L-n4m3_Xx\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label htmlFor=\"exampleInputEmail1\">Email address</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\taria-describedby=\"emailHelp\"\n\t\t\t\t\t\tplaceholder=\"me@awesome.com\"\n\t\t\t\t\t/>\n\t\t\t\t\t<small id=\"email\" className=\"form-text text-muted\">\n\t\t\t\t\t\tWe'll never share your email with anyone else.\n\t\t\t\t\t</small>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label htmlFor=\"password1\">Password</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\tvalue={user.password}\n\t\t\t\t\t\tonChange={handleInput}\n\t\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<button type=\"submit\" className=\"btn btn-primary\">\n\t\t\t\t\tSubmit\n\t\t\t\t</button>\n\t\t\t</form>\n\t\t</div>\n\t);\n}\n\nexport default LoginForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}