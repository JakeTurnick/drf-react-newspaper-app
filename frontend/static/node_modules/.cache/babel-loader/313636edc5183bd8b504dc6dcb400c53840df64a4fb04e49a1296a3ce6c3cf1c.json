{"ast":null,"code":"import _slicedToArray from\"/Users/jake/Documents/CCS/hw/drf-react-newspaper-app/frontend/static/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/jake/Documents/CCS/hw/drf-react-newspaper-app/frontend/static/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/jake/Documents/CCS/hw/drf-react-newspaper-app/frontend/static/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{useState,useEffect}from\"react\";import ArticleLink from\"./ArticleLink\";import{nanoid}from\"nanoid\";import\"./article-list.css\";import{jsx as _jsx}from\"react/jsx-runtime\";var INITIAL_ARTICLES=[\"article 1\",\"article 2\",\"Funny comics\",\"dsytopia\"];function ArticleList(props){useEffect(function(){var getArticles=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var options,response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:options={method:\"GET\",headers:{\"Content-Type\":\"application/json\"}};_context.next=3;return fetch(\"api_v1/posts/\".concat(props.currCategory),options);case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;setArticles(data);case 8:case\"end\":return _context.stop();}},_callee);}));return function getArticles(_x){return _ref.apply(this,arguments);};}();getArticles();},[props.currCategory]);// Initial load of any posts\nvar _useState=useState(INITIAL_ARTICLES),_useState2=_slicedToArray(_useState,2),articles=_useState2[0],setArticles=_useState2[1];useEffect(function(){var getArticles=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){var options,response,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:options={method:\"GET\",headers:{\"Content-Type\":\"application/json\"}};_context2.next=3;return fetch(\"api_v1/posts/\",options);case 3:response=_context2.sent;_context2.next=6;return response.json();case 6:data=_context2.sent;setArticles(data);case 8:case\"end\":return _context2.stop();}},_callee2);}));return function getArticles(_x2){return _ref2.apply(this,arguments);};}();getArticles();},[]);var articlesHTML=articles.map(function(article){return/*#__PURE__*/_jsx(ArticleLink,{article:article,setNewArticle:props.setNewArticle},nanoid());});return/*#__PURE__*/_jsx(\"ul\",{className:\"link-list\",children:articlesHTML});}export default ArticleList;","map":{"version":3,"names":["useState","useEffect","ArticleLink","nanoid","jsx","_jsx","INITIAL_ARTICLES","ArticleList","props","getArticles","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","options","response","data","wrap","_callee$","_context","prev","next","method","headers","fetch","concat","currCategory","sent","json","setArticles","stop","_x","apply","arguments","_useState","_useState2","_slicedToArray","articles","_ref2","_callee2","_callee2$","_context2","_x2","articlesHTML","map","article","setNewArticle","className","children"],"sources":["/Users/jake/Documents/CCS/hw/drf-react-newspaper-app/frontend/static/src/Components/Articles/ArticleList.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport ArticleLink from \"./ArticleLink\";\nimport { nanoid } from \"nanoid\";\nimport \"./article-list.css\";\n\nconst INITIAL_ARTICLES = [\"article 1\", \"article 2\", \"Funny comics\", \"dsytopia\"];\n\nfunction ArticleList(props) {\n\tuseEffect(() => {\n\t\tconst getArticles = async (e) => {\n\t\t\tconst options = {\n\t\t\t\tmethod: \"GET\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t},\n\t\t\t};\n\n\t\t\tconst response = await fetch(\n\t\t\t\t`api_v1/posts/${props.currCategory}`,\n\t\t\t\toptions\n\t\t\t);\n\t\t\tconst data = await response.json();\n\t\t\tsetArticles(data);\n\t\t};\n\t\tgetArticles();\n\t}, [props.currCategory]);\n\n\t// Initial load of any posts\n\tconst [articles, setArticles] = useState(INITIAL_ARTICLES);\n\tuseEffect(() => {\n\t\tconst getArticles = async (e) => {\n\t\t\tconst options = {\n\t\t\t\tmethod: \"GET\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t},\n\t\t\t};\n\t\t\tconst response = await fetch(\"api_v1/posts/\", options);\n\t\t\tconst data = await response.json();\n\t\t\tsetArticles(data);\n\t\t};\n\t\tgetArticles();\n\t}, []);\n\n\tconst articlesHTML = articles.map((article) => (\n\t\t<ArticleLink\n\t\t\tkey={nanoid()}\n\t\t\tarticle={article}\n\t\t\tsetNewArticle={props.setNewArticle}\n\t\t/>\n\t));\n\n\treturn <ul className=\"link-list\">{articlesHTML}</ul>;\n}\n\nexport default ArticleList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}