{"ast":null,"code":"var _jsxFileName = \"/Users/jake/Documents/CCS/hw/drf-react-newspaper-app/frontend/static/src/Components/App/Header.js\";\nimport \"./header.css\";\nimport { Navigate, NavLink, useNavigate, useOutletContext } from \"react-router-dom\";\nimport Cookies from \"js-cookie\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Header(props) {\n  const signOut = async e => {\n    const options = {\n      method: \"POST\",\n      headers: {\n        \"Content-type\": \"application/json\",\n        \"X-CSRFToken\": Cookies.get(\"csrftoken\")\n      },\n      body: \"\"\n    };\n    const response = await fetch(\"dj-rest-auth/logout/\", options);\n    if (!response.ok) {\n      throw new Error(\"Error when signing out\");\n    }\n    const data = await response.json();\n    console.log(\"sign out data: \", data);\n    props.setAuth(false);\n    props.setCurrUser(null);\n    Cookies.remove(\"Authorization\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n      id: \"header-nav\",\n      children: [/*#__PURE__*/_jsxDEV(NavLink, {\n        className: \"header-link\",\n        to: \"/home\",\n        children: \"Home\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 5\n      }, this), props.isAuth && /*#__PURE__*/_jsxDEV(NavLink, {\n        className: \"header-link\",\n        to: \"/test\",\n        children: \"Test\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 6\n      }, this), !props.isAuth && /*#__PURE__*/_jsxDEV(NavLink, {\n        className: \"header-link\",\n        to: \"/login\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 6\n      }, this), !props.isAuth && /*#__PURE__*/_jsxDEV(NavLink, {\n        className: \"header-link\",\n        to: \"/signup\",\n        children: \"Sign up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 4\n    }, this), props.isAuth ? /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"user-area\",\n      children: [/*#__PURE__*/_jsxDEV(NavLink, {\n        className: \"header-link\",\n        to: \"/home\",\n        children: [\"Welcome \", props.currUser]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"sign-out\",\n        onClick: signOut,\n        children: \"Sign out?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }, this) : /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"user-area\",\n      children: /*#__PURE__*/_jsxDEV(NavLink, {\n        className: \"header-link\",\n        to: \"/login\",\n        children: \"Have an account?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 6\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 3\n  }, this);\n}\n_c = Header;\nexport default Header;\nvar _c;\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"names":["Navigate","NavLink","useNavigate","useOutletContext","Cookies","jsxDEV","_jsxDEV","Header","props","signOut","e","options","method","headers","get","body","response","fetch","ok","Error","data","json","console","log","setAuth","setCurrUser","remove","children","id","className","to","fileName","_jsxFileName","lineNumber","columnNumber","isAuth","currUser","onClick","_c","$RefreshReg$"],"sources":["/Users/jake/Documents/CCS/hw/drf-react-newspaper-app/frontend/static/src/Components/App/Header.js"],"sourcesContent":["import \"./header.css\";\nimport {\n\tNavigate,\n\tNavLink,\n\tuseNavigate,\n\tuseOutletContext,\n} from \"react-router-dom\";\nimport Cookies from \"js-cookie\";\n\nfunction Header(props) {\n\tconst signOut = async (e) => {\n\t\tconst options = {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-type\": \"application/json\",\n\t\t\t\t\"X-CSRFToken\": Cookies.get(\"csrftoken\"),\n\t\t\t},\n\t\t\tbody: \"\",\n\t\t};\n\t\tconst response = await fetch(\"dj-rest-auth/logout/\", options);\n\t\tif (!response.ok) {\n\t\t\tthrow new Error(\"Error when signing out\");\n\t\t}\n\t\tconst data = await response.json();\n\t\tconsole.log(\"sign out data: \", data);\n\t\tprops.setAuth(false);\n\t\tprops.setCurrUser(null);\n\t\tCookies.remove(\"Authorization\");\n\t};\n\n\treturn (\n\t\t<header>\n\t\t\t<nav id=\"header-nav\">\n\t\t\t\t<NavLink className=\"header-link\" to=\"/home\">\n\t\t\t\t\tHome\n\t\t\t\t</NavLink>\n\n\t\t\t\t{props.isAuth && (\n\t\t\t\t\t<NavLink className=\"header-link\" to=\"/test\">\n\t\t\t\t\t\tTest\n\t\t\t\t\t</NavLink>\n\t\t\t\t)}\n\t\t\t\t{!props.isAuth && (\n\t\t\t\t\t<NavLink className=\"header-link\" to=\"/login\">\n\t\t\t\t\t\tLogin\n\t\t\t\t\t</NavLink>\n\t\t\t\t)}\n\t\t\t\t{!props.isAuth && (\n\t\t\t\t\t<NavLink className=\"header-link\" to=\"/signup\">\n\t\t\t\t\t\tSign up\n\t\t\t\t\t</NavLink>\n\t\t\t\t)}\n\t\t\t</nav>\n\t\t\t{props.isAuth ? (\n\t\t\t\t<section className=\"user-area\">\n\t\t\t\t\t<NavLink className=\"header-link\" to=\"/home\">\n\t\t\t\t\t\tWelcome {props.currUser}\n\t\t\t\t\t</NavLink>\n\t\t\t\t\t<button id=\"sign-out\" onClick={signOut}>\n\t\t\t\t\t\tSign out?\n\t\t\t\t\t</button>\n\t\t\t\t</section>\n\t\t\t) : (\n\t\t\t\t<section className=\"user-area\">\n\t\t\t\t\t<NavLink className=\"header-link\" to=\"/login\">\n\t\t\t\t\t\tHave an account?\n\t\t\t\t\t</NavLink>\n\t\t\t\t</section>\n\t\t\t)}\n\t\t</header>\n\t);\n}\n\nexport default Header;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}