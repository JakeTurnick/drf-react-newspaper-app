{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jake/Documents/CCS/hw/drf-react-newspaper-app/frontend/static/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/jake/Documents/CCS/hw/drf-react-newspaper-app/frontend/static/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import'./header.css';import{Navigate,NavLink,useNavigate,useOutletContext}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Header(props){var signOut=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var options,response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:options={method:\"POST\",headers:{\"Content-type\":\"application/json\"},body:\"\"};_context.next=3;return fetch(\"/dj-rest-auth/logout/\",options);case 3:response=_context.sent;if(response.ok){_context.next=6;break;}throw new Error(\"Error when signing out\");case 6:_context.next=8;return response.json();case 8:data=_context.sent;console.log(\"sign out data: \",data);props.setAuth(false);case 11:case\"end\":return _context.stop();}},_callee);}));return function signOut(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"header\",{children:[/*#__PURE__*/_jsxs(\"nav\",{id:\"header-nav\",children:[/*#__PURE__*/_jsx(NavLink,{className:\"header-link\",to:\"/home\",children:\"Home\"}),/*#__PURE__*/_jsx(NavLink,{className:\"header-link\",to:\"/login\",children:\"Login\"}),/*#__PURE__*/_jsx(NavLink,{className:\"header-link\",to:\"/signup\",children:\"Sign up\"})]}),props.isAuth?/*#__PURE__*/_jsxs(\"section\",{className:\"user-area\",children:[/*#__PURE__*/_jsx(NavLink,{className:\"header-link\",to:\"/home\",children:\"Welcome User\"}),/*#__PURE__*/_jsx(\"button\",{id:\"sign-out\",onClick:signOut,children:\"Sign out?\"})]}):/*#__PURE__*/_jsx(\"section\",{className:\"user-area\",children:/*#__PURE__*/_jsx(NavLink,{className:\"header-link\",to:\"/login\",children:\"Have an account?\"})})]});}export default Header;","map":{"version":3,"names":["Navigate","NavLink","useNavigate","useOutletContext","jsx","_jsx","jsxs","_jsxs","Header","props","signOut","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","options","response","data","wrap","_callee$","_context","prev","next","method","headers","body","fetch","sent","ok","Error","json","console","log","setAuth","stop","_x","apply","arguments","children","id","className","to","isAuth","onClick"],"sources":["/Users/jake/Documents/CCS/hw/drf-react-newspaper-app/frontend/static/src/Components/App/Header.js"],"sourcesContent":["import './header.css'\nimport { Navigate, NavLink, useNavigate, useOutletContext } from \"react-router-dom\";\n\nfunction Header(props) {\n\n    const signOut = async (e) => {\n\n        const options = {\n            method: \"POST\",\n            headers: {\n                \"Content-type\": \"application/json\",\n            },\n            body: \"\",\n        }\n        const response = await fetch(\"/dj-rest-auth/logout/\", options)\n        if (!response.ok) {\n            throw new Error(\"Error when signing out\")\n        }\n        const data = await response.json();\n        console.log(\"sign out data: \", data)\n        props.setAuth(false);\n\n    }\n\n\treturn (\n\t\t<header>\n            <nav id='header-nav'>\n                <NavLink className=\"header-link\" to=\"/home\">Home</NavLink>\n                <NavLink className=\"header-link\" to=\"/login\">Login</NavLink>\n                <NavLink className=\"header-link\" to=\"/signup\">Sign up</NavLink>\n            </nav>\n            {props.isAuth\n                ? <section className=\"user-area\">\n                    <NavLink className=\"header-link\" to=\"/home\">Welcome User</NavLink>\n                    <button id='sign-out' onClick={signOut} >Sign out?</button>\n                </section>\n                : <section className=\"user-area\">\n                    <NavLink className=\"header-link\" to=\"/login\">Have an account?</NavLink>\n                </section>}\n\t\t</header>\n\t);\n}\n\nexport default Header;\n"],"mappings":"oUAAA,MAAO,cAAc,CACrB,OAASA,QAAQ,CAAEC,OAAO,CAAEC,WAAW,CAAEC,gBAAgB,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEpF,QAAS,CAAAC,MAAMA,CAACC,KAAK,CAAE,CAEnB,GAAM,CAAAC,OAAO,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,CAAC,MAAAC,OAAA,CAAAC,QAAA,CAAAC,IAAA,QAAAN,mBAAA,GAAAO,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAEdP,OAAO,CAAG,CACZQ,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CAAC,CACDC,IAAI,CAAE,EACV,CAAC,CAAAL,QAAA,CAAAE,IAAA,SACsB,CAAAI,KAAK,CAAC,uBAAuB,CAAEX,OAAO,CAAC,QAAxDC,QAAQ,CAAAI,QAAA,CAAAO,IAAA,IACTX,QAAQ,CAACY,EAAE,EAAAR,QAAA,CAAAE,IAAA,eACN,IAAI,CAAAO,KAAK,CAAC,wBAAwB,CAAC,QAAAT,QAAA,CAAAE,IAAA,SAE1B,CAAAN,QAAQ,CAACc,IAAI,EAAE,QAA5Bb,IAAI,CAAAG,QAAA,CAAAO,IAAA,CACVI,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAEf,IAAI,CAAC,CACpCV,KAAK,CAAC0B,OAAO,CAAC,KAAK,CAAC,CAAC,yBAAAb,QAAA,CAAAc,IAAA,MAAArB,OAAA,GAExB,kBAjBK,CAAAL,OAAOA,CAAA2B,EAAA,SAAA1B,IAAA,CAAA2B,KAAA,MAAAC,SAAA,OAiBZ,CAEJ,mBACChC,KAAA,WAAAiC,QAAA,eACUjC,KAAA,QAAKkC,EAAE,CAAC,YAAY,CAAAD,QAAA,eAChBnC,IAAA,CAACJ,OAAO,EAACyC,SAAS,CAAC,aAAa,CAACC,EAAE,CAAC,OAAO,CAAAH,QAAA,CAAC,MAAI,EAAU,cAC1DnC,IAAA,CAACJ,OAAO,EAACyC,SAAS,CAAC,aAAa,CAACC,EAAE,CAAC,QAAQ,CAAAH,QAAA,CAAC,OAAK,EAAU,cAC5DnC,IAAA,CAACJ,OAAO,EAACyC,SAAS,CAAC,aAAa,CAACC,EAAE,CAAC,SAAS,CAAAH,QAAA,CAAC,SAAO,EAAU,GAC7D,CACL/B,KAAK,CAACmC,MAAM,cACPrC,KAAA,YAASmC,SAAS,CAAC,WAAW,CAAAF,QAAA,eAC5BnC,IAAA,CAACJ,OAAO,EAACyC,SAAS,CAAC,aAAa,CAACC,EAAE,CAAC,OAAO,CAAAH,QAAA,CAAC,cAAY,EAAU,cAClEnC,IAAA,WAAQoC,EAAE,CAAC,UAAU,CAACI,OAAO,CAAEnC,OAAQ,CAAA8B,QAAA,CAAE,WAAS,EAAS,GACrD,cACRnC,IAAA,YAASqC,SAAS,CAAC,WAAW,CAAAF,QAAA,cAC5BnC,IAAA,CAACJ,OAAO,EAACyC,SAAS,CAAC,aAAa,CAACC,EAAE,CAAC,QAAQ,CAAAH,QAAA,CAAC,kBAAgB,EAAU,EACjE,GACf,CAEX,CAEA,cAAe,CAAAhC,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}