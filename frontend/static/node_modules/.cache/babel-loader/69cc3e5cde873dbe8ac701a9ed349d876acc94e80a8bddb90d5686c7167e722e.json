{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jake/Documents/CCS/hw/drf-react-newspaper-app/frontend/static/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/jake/Documents/CCS/hw/drf-react-newspaper-app/frontend/static/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/jake/Documents/CCS/hw/drf-react-newspaper-app/frontend/static/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import ArticleLink from\"./ArticleLink\";import{nanoid}from'nanoid';import'./article-list.css';import{jsx as _jsx}from\"react/jsx-runtime\";var INITIAL_ARTICLES=['article 1','article 2','Funny comics','dsytopia'];function ArticleList(props){// Initial load of any posts\nvar _useState=useState(INITIAL_ARTICLES),_useState2=_slicedToArray(_useState,2),articles=_useState2[0],setArticles=_useState2[1];useEffect(function(){var getArticles=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var options,response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:options={method:\"GET\",headers:{\"Content-Type\":\"application/json\"}};_context.next=3;return fetch('api_v1/posts/',options);case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;setArticles(data);case 8:case\"end\":return _context.stop();}},_callee);}));return function getArticles(_x){return _ref.apply(this,arguments);};}();getArticles();},[]);useEffect(function(){var getArticles=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){var options,response,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:options={method:\"GET\",headers:{\"Content-Type\":\"application/json\"}};_context2.next=3;return fetch(\"api_v1/posts/\".concat(props.currCategory),options);case 3:response=_context2.sent;_context2.next=6;return response.json();case 6:data=_context2.sent;setArticles(data);case 8:case\"end\":return _context2.stop();}},_callee2);}));return function getArticles(_x2){return _ref2.apply(this,arguments);};}();getArticles();},[props.currCategory]);var articlesHTML=articles.map(function(article){return/*#__PURE__*/_jsx(ArticleLink,{article:article,setNewArticle:props.setNewArticle},nanoid());});return/*#__PURE__*/_jsx(\"ul\",{className:\"link-list\",children:articlesHTML});}export default ArticleList;","map":{"version":3,"names":["useState","useEffect","ArticleLink","nanoid","jsx","_jsx","INITIAL_ARTICLES","ArticleList","props","_useState","_useState2","_slicedToArray","articles","setArticles","getArticles","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","options","response","data","wrap","_callee$","_context","prev","next","method","headers","fetch","sent","json","stop","_x","apply","arguments","_ref2","_callee2","_callee2$","_context2","concat","currCategory","_x2","articlesHTML","map","article","setNewArticle","className","children"],"sources":["/Users/jake/Documents/CCS/hw/drf-react-newspaper-app/frontend/static/src/Components/ArticleList.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport ArticleLink from \"./ArticleLink\";\nimport {nanoid} from 'nanoid'\nimport './article-list.css'\n\nconst INITIAL_ARTICLES = [\n    'article 1',\n    'article 2',\n    'Funny comics',\n    'dsytopia',\n]\n\nfunction ArticleList(props) {\n    // Initial load of any posts\n    const [articles, setArticles] = useState(INITIAL_ARTICLES)\n    useEffect(() => {\n        const getArticles = async (e) => {\n          const options = {\n            method: \"GET\",\n            headers: {\n              \"Content-Type\": \"application/json\"\n            },\n          }\n          const response = await fetch('api_v1/posts/', options)\n          const data = await response.json()\n          setArticles(data)\n        }\n        getArticles()\n    }, [])\n\n    useEffect(() => {\n        const getArticles = async (e) => {\n            const options = {\n              method: \"GET\",\n              headers: {\n                \"Content-Type\": \"application/json\"\n              },\n            }\n            \n            const response = await fetch(`api_v1/posts/${props.currCategory}`, options)\n            const data = await response.json()\n            setArticles(data)\n          }\n          getArticles()\n    }, [props.currCategory])\n\n    const articlesHTML = articles.map(article => (\n        <ArticleLink key={nanoid()} article={article} setNewArticle={props.setNewArticle} />\n    ))\n\n    return (\n        <ul className=\"link-list\">{articlesHTML}</ul>\n    )\n}\n\nexport default ArticleList"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}